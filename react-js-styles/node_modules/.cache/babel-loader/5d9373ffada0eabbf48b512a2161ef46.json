{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\victo\\\\Desktop\\\\TE\\\\js yt\\\\react-complete-guide-code\\\\react-start\\\\react-js-styles\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport NewTask from \"./comps/NewTask\";\nimport ShowTask from \"./comps/ShowTask\";\nimport { useState, useEffect } from \"react\";\nimport { db } from \"./firebase\";\nimport { uid } from \"uid\";\nimport { onValue, ref, remove, set, update } from \"firebase/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const testData = [];\n  const [tasks, setTasks] = useState(testData); ////////////////\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const fetchTasks = taskText => {\n    setIsLoading(true); // onValue(ref(db), (snapshot) => {\n    //   const data = snapshot.val();\n    //   // console.log(data);\n    //   const loadedTasks = [];\n    //   for (const taskKey in data) {\n    //     // console.log(taskKey);\n    //     loadedTasks.push({\n    //       id: data[taskKey].uuid,\n    //       text: data[taskKey].todo,\n    //       done: data[taskKey].taskStatus,\n    //     });\n    //   }\n    //   // console.log(loadedTasks);\n    //   setTasks(loadedTasks);\n    //   setIsLoading(false);\n    // });\n\n    onValue(ref(db), snapshot => {\n      setTasks([]);\n      const data = snapshot.val();\n\n      if (data !== null) {\n        Object.values(data).map(todo => {\n          setTasks(oldArray => [...oldArray, todo]);\n        });\n      }\n\n      setIsLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  const saveTextFunc = taskText => {\n    const uuid = uid();\n    set(ref(db, `/${uuid}`), { ...taskText\n    }); // fetchTasks();\n    // const data = await response.json();\n  }; ///Delelte\n\n\n  const deleteTextFunc = taskText => {\n    remove(ref(db, `/${taskText.id}`)); // db().ref(`/${taskText.id}`).remove();\n    // fetchTasks();\n\n    console.log(taskText);\n  }; ///update\n\n\n  const updateFunc = taskData => {\n    console.log(taskData.id); // update(ref(db, `/${taskData.id}`),\n    // {\n    //   taskStatus: true,\n    //   // todo: 'Hello WOrld'\n    //   // uuid: taskData.id\n    // })\n\n    console.log(taskData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NewTask, {\n      onSaveText: saveTextFunc\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ShowTask, {\n      items: tasks,\n      isLoadingProp: isLoading,\n      onDeleteText: deleteTextFunc,\n      onDone: updateFunc\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"OoSVvETOptzIolLGuvJrhFiayMU=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/victo/Desktop/TE/js yt/react-complete-guide-code/react-start/react-js-styles/src/App.js"],"names":["NewTask","ShowTask","useState","useEffect","db","uid","onValue","ref","remove","set","update","App","testData","tasks","setTasks","isLoading","setIsLoading","fetchTasks","taskText","snapshot","data","val","Object","values","map","todo","oldArray","saveTextFunc","uuid","deleteTextFunc","id","console","log","updateFunc","taskData"],"mappings":";;;AAAA,OAAO,sDAAP;AACA,OAAOA,OAAP,MAAoB,iBAApB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,EAAT,QAAmB,YAAnB;AACA,SAASC,GAAT,QAAoB,KAApB;AACA,SAASC,OAAT,EAAkBC,GAAlB,EAAuBC,MAAvB,EAA+BC,GAA/B,EAAoCC,MAApC,QAAkD,mBAAlD;;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAMC,QAAQ,GAAG,EAAjB;AAEA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAACU,QAAD,CAAlC,CAHa,CAKb;;AACA,QAAM,CAACG,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,KAAD,CAA1C;;AAEA,QAAMe,UAAU,GAAIC,QAAD,IAAc;AAC/BF,IAAAA,YAAY,CAAC,IAAD,CAAZ,CAD+B,CAG/B;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAV,IAAAA,OAAO,CAACC,GAAG,CAACH,EAAD,CAAJ,EAAWe,QAAD,IAAc;AAC7BL,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACA,YAAMM,IAAI,GAAGD,QAAQ,CAACE,GAAT,EAAb;;AACA,UAAID,IAAI,KAAK,IAAb,EAAmB;AACjBE,QAAAA,MAAM,CAACC,MAAP,CAAcH,IAAd,EAAoBI,GAApB,CAAyBC,IAAD,IAAU;AAChCX,UAAAA,QAAQ,CAAEY,QAAD,IAAc,CAAC,GAAGA,QAAJ,EAAcD,IAAd,CAAf,CAAR;AACD,SAFD;AAGD;;AACHT,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAEC,KAVM,CAAP;AAWD,GAjCD;;AAmCAb,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,UAAU;AACX,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMU,YAAY,GAAIT,QAAD,IAAc;AACjC,UAAMU,IAAI,GAAGvB,GAAG,EAAhB;AACAI,IAAAA,GAAG,CAACF,GAAG,CAACH,EAAD,EAAM,IAAGwB,IAAK,EAAd,CAAJ,EAAsB,EAAE,GAAGV;AAAL,KAAtB,CAAH,CAFiC,CAGjC;AACA;AACD,GALD,CA/Ca,CAsDb;;;AACA,QAAMW,cAAc,GAAIX,QAAD,IAAc;AACnCV,IAAAA,MAAM,CAACD,GAAG,CAACH,EAAD,EAAM,IAAGc,QAAQ,CAACY,EAAG,EAArB,CAAJ,CAAN,CADmC,CAEnC;AACA;;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYd,QAAZ;AAED,GAND,CAvDa,CA+Db;;;AACA,QAAMe,UAAU,GAAIC,QAAD,IAAc;AAC/BH,IAAAA,OAAO,CAACC,GAAR,CAAYE,QAAQ,CAACJ,EAArB,EAD+B,CAE/B;AACA;AACA;AACA;AACA;AACA;;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYE,QAAZ;AACD,GATD;;AAWA,sBACE;AAAA,4BACE,QAAC,OAAD;AAAS,MAAA,UAAU,EAAEP;AAArB;AAAA;AAAA;AAAA;AAAA,YADF,eAGE,QAAC,QAAD;AACE,MAAA,KAAK,EAAEd,KADT;AAEE,MAAA,aAAa,EAAEE,SAFjB;AAGE,MAAA,YAAY,EAAEc,cAHhB;AAIE,MAAA,MAAM,EAAEI;AAJV;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA,kBADF;AAYD;;GAvFQtB,G;;KAAAA,G;AAyFT,eAAeA,GAAf","sourcesContent":["import \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport NewTask from \"./comps/NewTask\";\nimport ShowTask from \"./comps/ShowTask\";\nimport { useState, useEffect } from \"react\";\nimport { db } from \"./firebase\";\nimport { uid } from \"uid\";\nimport { onValue, ref, remove, set, update } from \"firebase/database\";\n\nfunction App() {\n  const testData = [];\n\n  const [tasks, setTasks] = useState(testData);\n\n  ////////////////\n  const [isLoading, setIsLoading] = useState(false);\n\n  const fetchTasks = (taskText) => {\n    setIsLoading(true);\n\n    // onValue(ref(db), (snapshot) => {\n    //   const data = snapshot.val();\n    //   // console.log(data);\n\n    //   const loadedTasks = [];\n    //   for (const taskKey in data) {\n    //     // console.log(taskKey);\n\n    //     loadedTasks.push({\n    //       id: data[taskKey].uuid,\n    //       text: data[taskKey].todo,\n    //       done: data[taskKey].taskStatus,\n    //     });\n    //   }\n    //   // console.log(loadedTasks);\n    //   setTasks(loadedTasks);\n    //   setIsLoading(false);\n    // });\n\n    onValue(ref(db), (snapshot) => {\n      setTasks([]);\n      const data = snapshot.val();\n      if (data !== null) {\n        Object.values(data).map((todo) => {\n          setTasks((oldArray) => [...oldArray, todo]);\n        });\n      }\n    setIsLoading(false);\n\n    });\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  const saveTextFunc = (taskText) => {\n    const uuid = uid();\n    set(ref(db, `/${uuid}`), { ...taskText });\n    // fetchTasks();\n    // const data = await response.json();\n  };\n\n  ///Delelte\n  const deleteTextFunc = (taskText) => {\n    remove(ref(db, `/${taskText.id}`));\n    // db().ref(`/${taskText.id}`).remove();\n    // fetchTasks();\n    console.log(taskText);\n\n  };\n\n  ///update\n  const updateFunc = (taskData) => {\n    console.log(taskData.id);\n    // update(ref(db, `/${taskData.id}`),\n    // {\n    //   taskStatus: true,\n    //   // todo: 'Hello WOrld'\n    //   // uuid: taskData.id\n    // })\n    console.log(taskData);\n  };\n\n  return (\n    <>\n      <NewTask onSaveText={saveTextFunc}></NewTask>\n\n      <ShowTask\n        items={tasks}\n        isLoadingProp={isLoading}\n        onDeleteText={deleteTextFunc}\n        onDone={updateFunc}\n      ></ShowTask>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}